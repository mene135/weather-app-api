(()=>{"use strict";function e(e){return`https://openweathermap.org/img/wn/${e}@2x.png`}function t(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function n(e){return t(1e3*e)}function a(e){return t(e).getHours()}function o(e){return Math.floor(100*e)}function r(e){const a=t(n(e)).getDay();return 0===a?"Sunday":1===a?"Monday":2===a?"Tuesday":3===a?"Wednesday":4===a?"Thursday":5===a?"Friday":6===a?"Saturday":void 0}function c(e){let o=n(e),r=a(o),c=t(o).getMinutes();return 1===c.toString(10).length&&(c=`0${c}`),`${r} : ${c}`}function d(e){return Math.round(e)}const i=document.querySelector("body");function s(t){const r=document.createElement("div");for(let i=0;i<t.length;i+=1){const s=document.createElement("div"),l=document.createElement("div"),m=document.createElement("div"),u=new Image,p=document.createElement("div");r.classList.add("hourlyForecastContainer"),s.classList.add("hourlyForecast"),l.classList.add("hourlyForecast-hour"),m.classList.add("hourlyForecast-rainChance"),u.classList.add("hourlyForecast-weatherImage"),p.classList.add("hourlyForecast-temperature"),l.textContent=0===i?"Now":`${c=t[i].dt,a(n(c))}`,0!==t[i].pop&&(m.textContent=`${o(t[i].pop)}%`),u.src=e(t[i].weather[0].icon),p.textContent=`${d(t[i].temp)}°`,s.appendChild(l),s.appendChild(m),s.appendChild(u),s.appendChild(p),r.appendChild(s),document.querySelector("body").appendChild(r)}var c}async function l(t){const n=await function(e){return fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=1&appid=2815b9b71f4c4387bd5d1f3c3f298af6`,{mode:"cors"}).then((e=>{if(console.log(e),!1===e.ok)throw new Error(`getCordinates fetch operation unsuccessful: ${e.status} ${e.statusText}`);return e.json()})).then((e=>{console.log(e);const{lat:t,lon:n,name:a}=e[0];return console.log(t,n),{name:a,lat:t,lon:n}})).catch((e=>{console.error(e)}))}(t),{name:a,lat:l,lon:m}=n,u=await function(e,t){return fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${t}&exclude=minutely&appid=2815b9b71f4c4387bd5d1f3c3f298af6&units=metric`,{mode:"cors"}).then((e=>{if(!1===e.ok)throw new Error(`getWeather fetch operation unsuccessful: ${e.status} ${e.statusText}`);return e.json()})).then((e=>(console.log(e),e))).catch((e=>{console.error(e)}))}(l,m);document.querySelector(".city").textContent=a;const{main:p}=u.current.weather[0];document.querySelector(".city-weather").textContent=p;const{temp:g}=u.current;document.querySelector(".city-temperature").textContent=`${d(g)}°`;const{min:h,max:f}=u.daily[0].temp,y=document.querySelector(".city-high"),E=document.querySelector(".city-low");y.textContent=`H:${d(f)}°`,E.textContent=`L:${d(h)}°`;const v=u.hourly.slice(0,24);null!==document.querySelector(".hourlyForecastContainer")?(document.querySelector(".hourlyForecastContainer").remove(),s(v)):s(v),function(e){const{max:t,min:n}=e.temp,a=e.weather[0].description,o=document.createElement("div"),r=document.createElement("p");o.classList.add("todaysDescription"),r.classList.add("todaysDescription-paragraph"),r.textContent=`Today: ${a}. The high will be ${d(t)}°. The low will be ${d(n)}°.`,o.appendChild(r),document.querySelector("body").appendChild(o)}(u.daily[0]),function(t){const n=document.createElement("div");n.classList.add("dailyForecastContainer");for(let a=1;a<t.length;a+=1){const o=document.createElement("div"),c=document.createElement("div"),i=new Image,s=document.createElement("div"),l=document.createElement("span"),m=document.createElement("span");o.classList.add("dailyForecast"),c.classList.add("dailyForecast-day"),i.classList.add("dailyForecast-weatherImage"),s.classList.add("dailyForecast-highAndLowContainer"),l.classList.add("dailyForecast-highAndLowContainer-high"),m.classList.add("dailyForecast-highAndLowContainer-low"),c.textContent=`${r(t[a].dt)}`,i.src=e(t[a].weather[0].icon),l.textContent=`${d(t[a].temp.max)}°`,m.textContent=`${d(t[a].temp.min)}°`,s.appendChild(l),s.appendChild(m),o.appendChild(c),o.appendChild(i),o.appendChild(s),n.appendChild(o)}document.querySelector("body").appendChild(n)}(u.daily),function(e){const t=document.createElement("div");t.classList.add("generalInformation");const{sunrise:n,sunset:a}=e.daily[0],r=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div");s.textContent="SUNRISE",l.textContent=`${c(n)}`;const m=document.createElement("div"),u=document.createElement("div"),p=document.createElement("div");u.textContent="SUNSET",p.textContent=`${c(a)}`,s.classList.add("generalInformation-container-title"),l.classList.add("generalInformation-container-value"),u.classList.add("generalInformation-container-title"),p.classList.add("generalInformation-container-value"),r.classList.add("generalInformation-container"),m.classList.add("generalInformation-container"),r.append(s,l),m.append(u,p);const{pop:g}=e.hourly[0],h=document.createElement("div"),f=document.createElement("div"),y=document.createElement("div");f.textContent="CHANCE OF RAIN",y.textContent=`${o(g)}%`,f.classList.add("generalInformation-container-title"),y.classList.add("generalInformation-container-value"),h.classList.add("generalInformation-container"),h.append(f,y);const{humidity:E}=e.hourly[0],v=document.createElement("div"),C=document.createElement("div"),L=document.createElement("div");C.textContent="HUMIDITY",L.textContent=`${E}%`,C.classList.add("generalInformation-container-title"),L.classList.add("generalInformation-container-value"),v.classList.add("generalInformation-container"),v.append(C,L);const{wind_speed:I,wind_deg:N}=e.hourly[0],x=document.createElement("div"),S=document.createElement("div"),$=document.createElement("div");var w;S.textContent="WIND",$.textContent=`${function(e){let t=[{directionName:"N",degrees:0},{directionName:"NNE",degrees:22.5},{directionName:"NE",degrees:45},{directionName:"ENE",degrees:67.5},{directionName:"E",degrees:90},{directionName:"ESE",degrees:112.5},{directionName:"SE",degrees:135},{directionName:"SSE",degrees:157.5},{directionName:"S",degrees:180},{directionName:"SSW",degrees:202.5},{directionName:"SW",degrees:225},{directionName:"WSW",degrees:247.5},{directionName:"W",degrees:270},{directionName:"WNW",degrees:292.5},{directionName:"NW",degrees:315},{directionName:"NNW",degrees:337.5},{directionName:"N",degrees:360}];for(let n=0;n<t.length;n+=1){if(t[n].degrees===e)return t[n].directionName;if(t[n].degrees>e){let a=e-t[n-1].degrees,o=t[n].degrees-e;return console.log(a),console.log(o),a<o?t[n-1].directionName:t[n].directionName}}}(N)} ${d((w=I,3.6*w))} km/hr`,S.classList.add("generalInformation-container-title"),$.classList.add("generalInformation-container-value"),x.classList.add("generalInformation-container"),x.append(S,$);const{feels_like:b}=e.hourly[0],F=document.createElement("div"),q=document.createElement("div"),T=document.createElement("div");q.textContent="FEELS LIKE",T.textContent=`${b}°`,q.classList.add("generalInformation-container-title"),T.classList.add("generalInformation-container-value"),F.classList.add("generalInformation-container"),F.append(q,T);const{rain:W}=e.daily[0],D=document.createElement("div"),j=document.createElement("div"),k=document.createElement("div");j.textContent="PRECIPITATION",k.textContent=`${W} mm/h`,void 0===W&&(k.textContent=0),j.classList.add("generalInformation-container-title"),k.classList.add("generalInformation-container-value"),D.classList.add("generalInformation-container"),D.append(j,k);const{pressure:A}=e.hourly[0],M=document.createElement("div"),R=document.createElement("div"),U=document.createElement("div");R.textContent="PRESSURE",U.textContent=`${A} hPa`,R.classList.add("generalInformation-container-title"),U.classList.add("generalInformation-container-value"),M.classList.add("generalInformation-container"),M.append(R,U);const{visibility:H}=e.hourly[0],P=document.createElement("div"),O=document.createElement("div"),_=document.createElement("div");O.textContent="VISIBILITY",_.textContent=`${function(e){return e/100}(H)} km`,O.classList.add("generalInformation-container-title"),_.classList.add("generalInformation-container-value"),P.classList.add("generalInformation-container"),P.append(O,_);const{uvi:V}=e.hourly[0],Y=document.createElement("div"),B=document.createElement("div"),K=document.createElement("div");B.textContent="UVI INDEX",K.textContent=`${V}`,B.classList.add("generalInformation-container-title"),K.classList.add("generalInformation-container-value"),Y.classList.add("generalInformation-container"),Y.append(B,K),t.append(r,m,h,v,x,F,D,D,P,Y),i.appendChild(t)}(u)}document.querySelector("body"),document.querySelector(".search-btn").addEventListener("click",(e=>{const t=document.querySelector(".search-input").value;document.querySelector(".search-input").value="",l(t),e.preventDefault()}))})();
//# sourceMappingURL=bundle.js.map