(()=>{"use strict";function e(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function t(t){return e(1e3*t)}function n(t){return e(t).getHours()}const a=document.querySelector("body");function o(e){return Math.round(e)}function r(e){return Math.floor(100*e)}function c(n){const a=e(t(n)).getDay();return 0===a?"Sunday":1===a?"Monday":2===a?"Tuesday":3===a?"Wednesday":4===a?"Thursday":5===a?"Friday":6===a?"Saturday":void 0}function d(e){return`https://openweathermap.org/img/wn/${e}@2x.png`}function i(e){const a=document.createElement("div");for(let i=0;i<e.length;i+=1){const s=document.createElement("div"),l=document.createElement("div"),m=document.createElement("div"),u=new Image,p=document.createElement("div");a.classList.add("hourlyForecastContainer"),s.classList.add("hourlyForecast"),l.classList.add("hourlyForecast-hour"),m.classList.add("hourlyForecast-rainChance"),u.classList.add("hourlyForecast-weatherImage"),p.classList.add("hourlyForecast-temperature"),l.textContent=0===i?"Now":`${c=e[i].dt,n(t(c))}`,0!==e[i].pop&&(m.textContent=`${r(e[i].pop)}%`),u.src=d(e[i].weather[0].icon),p.textContent=`${o(e[i].temp)}°`,s.appendChild(l),s.appendChild(m),s.appendChild(u),s.appendChild(p),a.appendChild(s),document.querySelector("body").appendChild(a)}var c}function s(a){let o=t(a),r=n(o),c=e(o).getMinutes();return 1===c.toString(10).length&&(c=`0${c}`),`${r} : ${c}`}function l(e){let t=[{directionName:"N",degrees:0},{directionName:"NNE",degrees:22.5},{directionName:"NE",degrees:45},{directionName:"ENE",degrees:67.5},{directionName:"E",degrees:90},{directionName:"ESE",degrees:112.5},{directionName:"SE",degrees:135},{directionName:"SSE",degrees:157.5},{directionName:"S",degrees:180},{directionName:"SSW",degrees:202.5},{directionName:"SW",degrees:225},{directionName:"WSW",degrees:247.5},{directionName:"W",degrees:270},{directionName:"WNW",degrees:292.5},{directionName:"NW",degrees:315},{directionName:"NNW",degrees:337.5},{directionName:"N",degrees:360}];for(let n=0;n<t.length;n+=1){if(t[n].degrees===e)return t[n].directionName;if(t[n].degrees>e){let a=e-t[n-1].degrees,o=t[n].degrees-e;return console.log(a),console.log(o),a<o?t[n-1].directionName:t[n].directionName}}}document.querySelector(".search-btn").addEventListener("click",(e=>{const t=document.querySelector(".search-input").value;document.querySelector(".search-input").value="",async function(e){const t=await function(e){return fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=1&appid=2815b9b71f4c4387bd5d1f3c3f298af6`,{mode:"cors"}).then((e=>{if(console.log(e),!1===e.ok)throw new Error(`getCordinates fetch operation unsuccessful: ${e.status} ${e.statusText}`);return e.json()})).then((e=>{console.log(e);const{lat:t,lon:n,name:a}=e[0];return console.log(t,n),{name:a,lat:t,lon:n}})).catch((e=>{console.error(e)}))}(e),{name:n,lat:m,lon:u}=t,p=await function(e,t){return fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${t}&exclude=minutely&appid=2815b9b71f4c4387bd5d1f3c3f298af6&units=metric`,{mode:"cors"}).then((e=>{if(!1===e.ok)throw new Error(`getWeather fetch operation unsuccessful: ${e.status} ${e.statusText}`);return e.json()})).then((e=>(console.log(e),e))).catch((e=>{console.error(e)}))}(m,u);document.querySelector(".city").textContent=n;const{main:g}=p.current.weather[0];document.querySelector(".city-weather").textContent=g;const{temp:h}=p.current;document.querySelector(".city-temperature").textContent=`${o(h)}°`;const{min:f,max:y}=p.daily[0].temp,E=document.querySelector(".city-high"),v=document.querySelector(".city-low");E.textContent=`H:${o(y)}°`,v.textContent=`L:${o(f)}°`;const C=p.hourly.slice(0,24);null!==document.querySelector(".hourlyForecastContainer")?(document.querySelector(".hourlyForecastContainer").remove(),i(C)):i(C),function(e){const{max:t,min:n}=e.temp,a=e.weather[0].description,r=document.createElement("div"),c=document.createElement("p");r.classList.add("todaysDescription"),c.classList.add("todaysDescription-paragraph"),c.textContent=`Today: ${a}. The high will be ${o(t)}°. The low will be ${o(n)}°.`,r.appendChild(c),document.querySelector("body").appendChild(r)}(p.daily[0]),function(e){const t=document.createElement("div");t.classList.add("dailyForecastContainer");for(let n=1;n<e.length;n+=1){const a=document.createElement("div"),r=document.createElement("div"),i=new Image,s=document.createElement("div"),l=document.createElement("span"),m=document.createElement("span");a.classList.add("dailyForecast"),r.classList.add("dailyForecast-day"),i.classList.add("dailyForecast-weatherImage"),s.classList.add("dailyForecast-highAndLowContainer"),l.classList.add("dailyForecast-highAndLowContainer-high"),m.classList.add("dailyForecast-highAndLowContainer-low"),r.textContent=`${c(e[n].dt)}`,i.src=d(e[n].weather[0].icon),l.textContent=`${o(e[n].temp.max)}°`,m.textContent=`${o(e[n].temp.min)}°`,s.appendChild(l),s.appendChild(m),a.appendChild(r),a.appendChild(i),a.appendChild(s),t.appendChild(a)}document.querySelector("body").appendChild(t)}(p.daily),function(e){const t=document.createElement("div");t.classList.add("generalInformation");const{sunrise:n,sunset:c}=e.daily[0],d=document.createElement("div"),i=document.createElement("div"),m=document.createElement("div");i.textContent="SUNRISE",m.textContent=`${s(n)}`;const u=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div");p.textContent="SUNSET",g.textContent=`${s(c)}`,i.classList.add("generalInformation-container-title"),m.classList.add("generalInformation-container-value"),p.classList.add("generalInformation-container-title"),g.classList.add("generalInformation-container-value"),d.classList.add("generalInformation-container"),u.classList.add("generalInformation-container"),d.append(i,m),u.append(p,g);const{pop:h}=e.hourly[0],f=document.createElement("div"),y=document.createElement("div"),E=document.createElement("div");y.textContent="CHANCE OF RAIN",E.textContent=`${r(h)}%`,y.classList.add("generalInformation-container-title"),E.classList.add("generalInformation-container-value"),f.classList.add("generalInformation-container"),f.append(y,E);const{humidity:v}=e.hourly[0],C=document.createElement("div"),L=document.createElement("div"),I=document.createElement("div");L.textContent="HUMIDITY",I.textContent=`${v}%`,L.classList.add("generalInformation-container-title"),I.classList.add("generalInformation-container-value"),C.classList.add("generalInformation-container"),C.append(L,I);const{wind_speed:N,wind_deg:x}=e.hourly[0],S=document.createElement("div"),$=document.createElement("div"),w=document.createElement("div");var b;$.textContent="WIND",w.textContent=`${l(x)} ${o((b=N,3.6*b))} km/hr`,$.classList.add("generalInformation-container-title"),w.classList.add("generalInformation-container-value"),S.classList.add("generalInformation-container"),S.append($,w);const{feels_like:F}=e.hourly[0],q=document.createElement("div"),T=document.createElement("div"),W=document.createElement("div");T.textContent="FEELS LIKE",W.textContent=`${F}°`,T.classList.add("generalInformation-container-title"),W.classList.add("generalInformation-container-value"),q.classList.add("generalInformation-container"),q.append(T,W);const{rain:D}=e.daily[0],j=document.createElement("div"),k=document.createElement("div"),A=document.createElement("div");k.textContent="PRECIPITATION",A.textContent=`${D} mm/h`,void 0===D&&(A.textContent=0),k.classList.add("generalInformation-container-title"),A.classList.add("generalInformation-container-value"),j.classList.add("generalInformation-container"),j.append(k,A);const{pressure:M}=e.hourly[0],R=document.createElement("div"),U=document.createElement("div"),H=document.createElement("div");U.textContent="PRESSURE",H.textContent=`${M} hPa`,U.classList.add("generalInformation-container-title"),H.classList.add("generalInformation-container-value"),R.classList.add("generalInformation-container"),R.append(U,H);const{visibility:P}=e.hourly[0],O=document.createElement("div"),_=document.createElement("div"),V=document.createElement("div");_.textContent="VISIBILITY",V.textContent=`${function(e){return e/100}(P)} km`,_.classList.add("generalInformation-container-title"),V.classList.add("generalInformation-container-value"),O.classList.add("generalInformation-container"),O.append(_,V);const{uvi:Y}=e.hourly[0],B=document.createElement("div"),K=document.createElement("div"),X=document.createElement("div");K.textContent="UVI INDEX",X.textContent=`${Y}`,K.classList.add("generalInformation-container-title"),X.classList.add("generalInformation-container-value"),B.classList.add("generalInformation-container"),B.append(K,X),t.append(d,u,f,C,S,q,j,j,O,B),a.appendChild(t)}(p)}(t),e.preventDefault()})),console.log(l(290))})();
//# sourceMappingURL=bundle.js.map