(()=>{"use strict";function e(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function t(t){return e(1e3*t)}function n(n){return e(t(n)).getHours()}function o(e){return Math.round(e)}function a(n){const o=e(t(n)).getDay();return 0===o?"Sunday":1===o?"Monday":2===o?"Tuesday":3===o?"Wednesday":4===o?"Thursday":5===o?"Friday":6===o?"Saturday":void 0}function c(e){return`https://openweathermap.org/img/wn/${e}@2x.png`}function r(e){const t=document.createElement("div");for(let r=0;r<e.length;r+=1){const d=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),i=new Image,u=document.createElement("div");t.classList.add("hourlyForecastContainer"),d.classList.add("hourlyForecast"),s.classList.add("hourlyForecast-hour"),l.classList.add("hourlyForecast-rainChance"),i.classList.add("hourlyForecast-weatherImage"),u.classList.add("hourlyForecast-temperature"),0===r?s.textContent="Now":(console.log(e[r].dt),console.log(`${n(e[r].dt)}`),s.textContent=`${n(e[r].dt)}`),0!==e[r].pop&&(l.textContent=`${a=e[r].pop,Math.floor(100*a)}%`),i.src=c(e[r].weather[0].icon),console.log(e[r].tem),u.textContent=`${o(e[r].temp)}°`,d.appendChild(s),d.appendChild(l),d.appendChild(i),d.appendChild(u),t.appendChild(d),document.querySelector("body").appendChild(t)}var a}a(1716976800),document.querySelector(".search-btn").addEventListener("click",(e=>{const t=document.querySelector(".search-input").value;document.querySelector(".search-input").value="",async function(e){const t=await function(e){return fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=1&appid=2815b9b71f4c4387bd5d1f3c3f298af6`,{mode:"cors"}).then((e=>{if(console.log(e),!1===e.ok)throw new Error(`getCordinates fetch operation unsuccessful: ${e.status} ${e.statusText}`);return e.json()})).then((e=>{console.log(e);const{lat:t,lon:n,name:o}=e[0];return console.log(t,n),{name:o,lat:t,lon:n}})).catch((e=>{console.error(e)}))}(e),{name:n,lat:d,lon:s}=t,l=await function(e,t){return fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${t}&exclude=minutely&appid=2815b9b71f4c4387bd5d1f3c3f298af6&units=metric`,{mode:"cors"}).then((e=>{if(!1===e.ok)throw new Error(`getWeather fetch operation unsuccessful: ${e.status} ${e.statusText}`);return e.json()})).then((e=>(console.log(e),e))).catch((e=>{console.error(e)}))}(d,s);document.querySelector(".city").textContent=n;const{main:i}=l.current.weather[0];document.querySelector(".city-weather").textContent=i;const{temp:u}=l.current;document.querySelector(".city-temperature").textContent=`${o(u)}°`;const{min:p,max:h}=l.daily[0].temp,m=document.querySelector(".city-high"),y=document.querySelector(".city-low");m.textContent=`H:${o(h)}°`,y.textContent=`L:${o(p)}°`;const C=l.hourly.slice(0,24);null!==document.querySelector(".hourlyForecastContainer")?(document.querySelector(".hourlyForecastContainer").remove(),r(C)):r(C),function(e){console.log(e);const{max:t,min:n}=e.temp,a=e.weather[0].description,c=document.createElement("div"),r=document.createElement("p");c.classList.add("todaysDescription"),r.classList.add("todaysDescription-paragraph"),r.textContent=`Today: ${a}. The high will be ${o(t)}°. The low will be ${o(n)}°.`,c.appendChild(r),document.querySelector("body").appendChild(c)}(l.daily[0]),function(e){const t=document.createElement("div");t.classList.add("dailyForecastContainer");for(let n=1;n<e.length;n+=1){const r=document.createElement("div"),d=document.createElement("div"),s=new Image,l=document.createElement("div"),i=document.createElement("span"),u=document.createElement("span");r.classList.add("dailyForecast"),d.classList.add("dailyForecast-day"),s.classList.add("dailyForecast-weatherImage"),l.classList.add("dailyForecast-highAndLowContainer"),i.classList.add("dailyForecast-highAndLowContainer-high"),u.classList.add("dailyForecast-highAndLowContainer-low"),d.textContent=`${a(e[n].dt)}`,s.src=c(e[n].weather[0].icon),i.textContent=`${o(e[n].temp.max)}°`,u.textContent=`${o(e[n].temp.min)}°`,l.appendChild(i),l.appendChild(u),r.appendChild(d),r.appendChild(s),r.appendChild(l),t.appendChild(r)}document.querySelector("body").appendChild(t)}(l.daily)}(t),e.preventDefault()}))})();
//# sourceMappingURL=bundle.js.map